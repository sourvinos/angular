<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<div class="container-fluid">
    <h1>{{ header }}</h1>
    <hr />
    <!-- [ngModel] From the model to the view -->
    <!-- (ngModel) From the view to the model -->
    <div>
        {{ userForm.value | json }}
    </div>
    <div>
        {{ userModel | json }}
    </div>

    <hr />

    Form is valid: {{ userForm.valid }}

    <hr />

    <form #userForm='ngForm' autocomplete='off'>
        <div class='form-group'>
            <label>Name</label>
            <input type='text' required #name='ngModel' name='name' [class.is-invalid]='name.invalid && name.touched' class='form-control' [(ngModel)]='userModel.name'>
            <small class='text-danger' [class.d-none]='name.valid || name.untouched'>Name is required</small>
        </div>
        <div class='form-group'>
            <label>Email</label>
            <input type='email' required #email='ngModel' name='email' [class.is-invalid]='email.invalid && email.touched' pattern='' class='form-control' [(ngModel)]='userModel.email'>
            <div *ngIf='email.errors && (email.invalid || email.touched)'>
                <small class='text-danger' *ngIf='email.errors.required'>Email is required</small>
                <small class='text-danger' *ngIf='email.errors.pattern'>Email must be valid</small>
            </div>
        </div>
        <div class='form-group'>
            <label>Phone</label>
            <input type='tel' required #phone='ngModel' name='phone' [class.is-invalid]='phone.invalid && phone.touched' pattern='^\d{10}$' class='form-control' [(ngModel)]='userModel.phone'>
            <div *ngIf='phone.errors && (phone.invalid || phone.touched)'>
                <small class='text-danger' *ngIf='phone.errors.required'>Phone is required</small>
                <small class='text-danger' *ngIf='phone.errors.pattern'>Phone must be ten digits</small>
            </div>
        </div>
        <div class='form-group'>
            <label>I'm interested in</label>
            <select class='custom-select' [class.is-invalid]='!isTopicValid && topic.touched' #topic='ngModel' name='topic' [(ngModel)]='userModel.topic' (blur)='validateTopic(topic.value)' (change)='validateTopic(topic.value)'>
                <option value='default' selected>Select from the list</option>
                <option *ngFor='let topic of topics'>{{ topic }}</option>
            </select>
            <small class='text-danger' [class.d-none]='isTopicValid || topic.untouched'>Select a topic</small>
        </div>
        <div class='form-group'>
            <label>Experience</label>
            <select class='custom-select' [class.is-invalid]='!isLevelValid && level.touched' #level='ngModel' name='level' [(ngModel)]='userModel.level' (blur)='validateLevel(level.value)' (change)='validateLevel(level.value)'>
                <option value='default' selected>Select from the list</option>
                <option *ngFor='let level of levels'>{{ level }}</option>
            </select>
            <small class='text-danger' [class.d-none]='isLevelValid || level.untouched'>Select a level</small>
        </div>
        <div class='mb-3'>
            <label>Time preference</label>
            <div class='form-check'>
                <input class='form-check-input' type='radio' name='timePreference' value='morning' [(ngModel)]='userModel.timePreference'>
                <label class='form-check-label'>Morning</label>
            </div>
            <div class='form-check'>
                <input class='form-check-input' type='radio' name='timePreference' value='evening' [(ngModel)]='userModel.timePreference'>
                <label class='form-check-label'>Evening</label>
            </div>
        </div>
        <div class='form-check mb-3'>
            <input type='checkbox' class='form-check-input' name='subscribe' [(ngModel)]='userModel.subscribe'>
            <label class='form-check-label'>Send me promotional stuff</label>
        </div>
        <div>
            <button class='btn btn-primary' [class.disabled]='!userForm.valid || !isTopicValid || !isLevelValid' type='submit' (click)='submitForm(userForm)'>Submit</button>
        </div>
    </form>

</div>